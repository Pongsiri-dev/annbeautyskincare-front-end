{"ast":null,"code":"var _jsxFileName = \"/Users/pongsiri.an/Downloads/Theme/Minimal_TypeScript_v2.7.0/full_version_TS/src/sections/@dashboard/chat/ChatMessageInput.tsx\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { useRef, useState } from 'react'; // @mui\n\nimport { styled } from '@mui/material/styles';\nimport { Stack, Input, Divider, IconButton, InputAdornment } from '@mui/material'; // @types\n\n// components\nimport Iconify from '../../../components/Iconify';\nimport EmojiPicker from '../../../components/EmojiPicker'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RootStyle = styled('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    minHeight: 56,\n    display: 'flex',\n    position: 'relative',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2)\n  };\n}); // ----------------------------------------------------------------------\n\nexport default function ChatMessageInput(_ref2) {\n  let {\n    disabled,\n    conversationId,\n    onSend\n  } = _ref2;\n  const fileInputRef = useRef(null);\n  const [message, setMessage] = useState('');\n\n  const handleAttach = () => {\n    var _fileInputRef$current;\n\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n\n  const handleKeyUp = event => {\n    if (event.key === 'Enter') {\n      handleSend();\n    }\n  };\n\n  const handleSend = () => {\n    if (!message) {\n      return '';\n    }\n\n    if (onSend && conversationId) {\n      onSend({\n        conversationId,\n        messageId: uuidv4(),\n        message,\n        contentType: 'text',\n        attachments: [],\n        createdAt: new Date(),\n        senderId: '8864c717-587d-472a-929a-8e5f298024da-0'\n      });\n    }\n\n    return setMessage('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(RootStyle, {\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      disabled: disabled,\n      fullWidth: true,\n      value: message,\n      disableUnderline: true,\n      onKeyUp: handleKeyUp,\n      onChange: event => setMessage(event.target.value),\n      placeholder: \"Type a message\",\n      startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n        position: \"start\",\n        children: /*#__PURE__*/_jsxDEV(EmojiPicker, {\n          disabled: disabled,\n          value: message,\n          setValue: setMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this),\n      endAdornment: /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        spacing: 1,\n        sx: {\n          flexShrink: 0,\n          mr: 1.5\n        },\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          disabled: disabled,\n          size: \"small\",\n          onClick: handleAttach,\n          children: /*#__PURE__*/_jsxDEV(Iconify, {\n            icon: \"ic:round-add-photo-alternate\",\n            width: 22,\n            height: 22\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          disabled: disabled,\n          size: \"small\",\n          onClick: handleAttach,\n          children: /*#__PURE__*/_jsxDEV(Iconify, {\n            icon: \"eva:attach-2-fill\",\n            width: 22,\n            height: 22\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          disabled: disabled,\n          size: \"small\",\n          children: /*#__PURE__*/_jsxDEV(Iconify, {\n            icon: \"eva:mic-fill\",\n            width: 22,\n            height: 22\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      orientation: \"vertical\",\n      flexItem: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n      color: \"primary\",\n      disabled: !message,\n      onClick: handleSend,\n      sx: {\n        mx: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(Iconify, {\n        icon: \"ic:round-send\",\n        width: 22,\n        height: 22\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      ref: fileInputRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/pongsiri.an/Downloads/Theme/Minimal_TypeScript_v2.7.0/full_version_TS/src/sections/@dashboard/chat/ChatMessageInput.tsx"],"names":["v4","uuidv4","useRef","useState","styled","Stack","Input","Divider","IconButton","InputAdornment","Iconify","EmojiPicker","RootStyle","theme","minHeight","display","position","alignItems","paddingLeft","spacing","ChatMessageInput","disabled","conversationId","onSend","fileInputRef","message","setMessage","handleAttach","current","click","handleKeyUp","event","key","handleSend","messageId","contentType","attachments","createdAt","Date","senderId","target","value","flexShrink","mr","mx"],"mappings":"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","sourcesContent":["import { v4 as uuidv4 } from 'uuid';\nimport { useRef, useState } from 'react';\n// @mui\nimport { styled } from '@mui/material/styles';\nimport { Stack, Input, Divider, IconButton, InputAdornment } from '@mui/material';\n// @types\nimport { SendMessage } from '../../../@types/chat';\n// components\nimport Iconify from '../../../components/Iconify';\nimport EmojiPicker from '../../../components/EmojiPicker';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  minHeight: 56,\n  display: 'flex',\n  position: 'relative',\n  alignItems: 'center',\n  paddingLeft: theme.spacing(2),\n}));\n\n// ----------------------------------------------------------------------\n\ntype Props = {\n  disabled: boolean;\n  conversationId: string | null;\n  onSend: (data: SendMessage) => void;\n};\n\nexport default function ChatMessageInput({ disabled, conversationId, onSend }: Props) {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [message, setMessage] = useState('');\n\n  const handleAttach = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleKeyUp = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter') {\n      handleSend();\n    }\n  };\n\n  const handleSend = () => {\n    if (!message) {\n      return '';\n    }\n    if (onSend && conversationId) {\n      onSend({\n        conversationId,\n        messageId: uuidv4(),\n        message,\n        contentType: 'text',\n        attachments: [],\n        createdAt: new Date(),\n        senderId: '8864c717-587d-472a-929a-8e5f298024da-0',\n      });\n    }\n    return setMessage('');\n  };\n\n  return (\n    <RootStyle>\n      <Input\n        disabled={disabled}\n        fullWidth\n        value={message}\n        disableUnderline\n        onKeyUp={handleKeyUp}\n        onChange={(event) => setMessage(event.target.value)}\n        placeholder=\"Type a message\"\n        startAdornment={\n          <InputAdornment position=\"start\">\n            <EmojiPicker disabled={disabled} value={message} setValue={setMessage} />\n          </InputAdornment>\n        }\n        endAdornment={\n          <Stack direction=\"row\" spacing={1} sx={{ flexShrink: 0, mr: 1.5 }}>\n            <IconButton disabled={disabled} size=\"small\" onClick={handleAttach}>\n              <Iconify icon=\"ic:round-add-photo-alternate\" width={22} height={22} />\n            </IconButton>\n            <IconButton disabled={disabled} size=\"small\" onClick={handleAttach}>\n              <Iconify icon=\"eva:attach-2-fill\" width={22} height={22} />\n            </IconButton>\n            <IconButton disabled={disabled} size=\"small\">\n              <Iconify icon=\"eva:mic-fill\" width={22} height={22} />\n            </IconButton>\n          </Stack>\n        }\n      />\n\n      <Divider orientation=\"vertical\" flexItem />\n\n      <IconButton color=\"primary\" disabled={!message} onClick={handleSend} sx={{ mx: 1 }}>\n        <Iconify icon=\"ic:round-send\" width={22} height={22} />\n      </IconButton>\n\n      <input type=\"file\" ref={fileInputRef} style={{ display: 'none' }} />\n    </RootStyle>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}