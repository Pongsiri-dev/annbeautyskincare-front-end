{"ast":null,"code":"var _jsxFileName = \"/Users/pongsiri.an/Documents/GitHub/Valenta-front-end/src/sections/@dashboard/user/account/AccountGeneral.tsx\",\n    _s = $RefreshSig$();\n\nimport * as Yup from 'yup';\nimport { useSnackbar } from 'notistack';\nimport { useCallback } from 'react';\nimport { Form, FormikProvider, useFormik } from 'formik'; // @mui\n\nimport { Box, Grid, Card, Stack, Switch, TextField, FormControlLabel, Typography, FormHelperText } from '@mui/material';\nimport { LoadingButton } from '@mui/lab'; // hooks\n\nimport useAuth from '../../../../hooks/useAuth';\nimport useIsMountedRef from '../../../../hooks/useIsMountedRef';\nimport { UploadAvatar } from '../../../../components/upload'; // utils\n\nimport { fData } from '../../../../utils/formatNumber'; // _mock\n\nimport { countries } from '../../../../_mock'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AccountGeneral() {\n  _s();\n\n  const isMountedRef = useIsMountedRef();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    user,\n    updateProfile\n  } = useAuth();\n  const UpdateUserSchema = Yup.object().shape({\n    displayName: Yup.string().required('Name is required')\n  });\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      displayName: (user === null || user === void 0 ? void 0 : user.displayName) || '',\n      email: (user === null || user === void 0 ? void 0 : user.email) || '',\n      photoURL: (user === null || user === void 0 ? void 0 : user.photoURL) || '',\n      phoneNumber: (user === null || user === void 0 ? void 0 : user.phoneNumber) || '',\n      country: (user === null || user === void 0 ? void 0 : user.country) || '',\n      address: (user === null || user === void 0 ? void 0 : user.address) || '',\n      state: (user === null || user === void 0 ? void 0 : user.state) || '',\n      city: (user === null || user === void 0 ? void 0 : user.city) || '',\n      zipCode: (user === null || user === void 0 ? void 0 : user.zipCode) || '',\n      about: (user === null || user === void 0 ? void 0 : user.about) || '',\n      isPublic: (user === null || user === void 0 ? void 0 : user.isPublic) || ''\n    },\n    validationSchema: UpdateUserSchema,\n    onSubmit: async (values, _ref) => {\n      let {\n        setErrors,\n        setSubmitting\n      } = _ref;\n\n      try {\n        updateProfile === null || updateProfile === void 0 ? void 0 : updateProfile();\n        enqueueSnackbar('Update success', {\n          variant: 'success'\n        });\n\n        if (isMountedRef.current) {\n          setSubmitting(false);\n        }\n      } catch (error) {\n        if (isMountedRef.current) {\n          setSubmitting(false);\n          setErrors({\n            afterSubmit: error.message\n          });\n        }\n      }\n    }\n  });\n  const {\n    values,\n    errors,\n    touched,\n    isSubmitting,\n    handleSubmit,\n    getFieldProps,\n    setFieldValue\n  } = formik;\n  const handleDrop = useCallback(acceptedFiles => {\n    const file = acceptedFiles[0];\n\n    if (file) {\n      setFieldValue('photoURL', { ...file,\n        preview: URL.createObjectURL(file)\n      });\n    }\n  }, [setFieldValue]);\n  return /*#__PURE__*/_jsxDEV(FormikProvider, {\n    value: formik,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      autoComplete: \"off\",\n      noValidate: true,\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              py: 10,\n              px: 3,\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(UploadAvatar, {\n              accept: \"image/*\",\n              file: values.photoURL,\n              maxSize: 3145728,\n              onDrop: handleDrop,\n              error: Boolean(touched.photoURL && errors.photoURL),\n              caption: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  mt: 2,\n                  mx: 'auto',\n                  display: 'block',\n                  textAlign: 'center',\n                  color: 'text.secondary'\n                },\n                children: [\"Allowed *.jpeg, *.jpg, *.png, *.gif\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 21\n                }, this), \" max size of \", fData(3145728)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n              error: true,\n              sx: {\n                px: 2,\n                textAlign: 'center'\n              },\n              children: touched.photoURL && errors.photoURL\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Switch, { ...getFieldProps('isPublic'),\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 26\n              }, this),\n              labelPlacement: \"start\",\n              label: \"Public Profile\",\n              sx: {\n                mt: 5\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              p: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Stack, {\n              spacing: {\n                xs: 2,\n                md: 3\n              },\n              children: [/*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  md: 'row'\n                },\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Name\",\n                  ...getFieldProps('displayName')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  disabled: true,\n                  label: \"Email Address\",\n                  ...getFieldProps('email')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  md: 'row'\n                },\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Phone Number\",\n                  ...getFieldProps('phoneNumber')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Address\",\n                  ...getFieldProps('address')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  md: 'row'\n                },\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  select: true,\n                  fullWidth: true,\n                  label: \"Country\",\n                  placeholder: \"Country\",\n                  ...getFieldProps('country'),\n                  SelectProps: {\n                    native: true\n                  },\n                  error: Boolean(touched.country && errors.country),\n                  helperText: touched.country && errors.country,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 21\n                  }, this), countries.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: option.label,\n                    children: option.label\n                  }, option.code, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"State/Region\",\n                  ...getFieldProps('state')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  md: 'row'\n                },\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"City\",\n                  ...getFieldProps('city')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  fullWidth: true,\n                  label: \"Zip/Code\",\n                  ...getFieldProps('zipCode')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, { ...getFieldProps('about'),\n                fullWidth: true,\n                multiline: true,\n                minRows: 4,\n                maxRows: 4,\n                label: \"About\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 3,\n                display: 'flex',\n                justifyContent: 'flex-end'\n              },\n              children: /*#__PURE__*/_jsxDEV(LoadingButton, {\n                type: \"submit\",\n                variant: \"contained\",\n                loading: isSubmitting,\n                children: \"Save Changes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AccountGeneral, \"KVOuu2XbFIZ0VQh++qLqzVcdjNM=\", false, function () {\n  return [useIsMountedRef, useSnackbar, useAuth, useFormik];\n});\n\n_c = AccountGeneral;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountGeneral\");","map":{"version":3,"sources":["/Users/pongsiri.an/Documents/GitHub/Valenta-front-end/src/sections/@dashboard/user/account/AccountGeneral.tsx"],"names":["Yup","useSnackbar","useCallback","Form","FormikProvider","useFormik","Box","Grid","Card","Stack","Switch","TextField","FormControlLabel","Typography","FormHelperText","LoadingButton","useAuth","useIsMountedRef","UploadAvatar","fData","countries","AccountGeneral","isMountedRef","enqueueSnackbar","user","updateProfile","UpdateUserSchema","object","shape","displayName","string","required","formik","enableReinitialize","initialValues","email","photoURL","phoneNumber","country","address","state","city","zipCode","about","isPublic","validationSchema","onSubmit","values","setErrors","setSubmitting","variant","current","error","afterSubmit","message","errors","touched","isSubmitting","handleSubmit","getFieldProps","setFieldValue","handleDrop","acceptedFiles","file","preview","URL","createObjectURL","py","px","textAlign","Boolean","mt","mx","display","color","p","xs","md","native","map","option","label","code","justifyContent"],"mappings":"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","sourcesContent":["import * as Yup from 'yup';\nimport { useSnackbar } from 'notistack';\nimport { useCallback } from 'react';\nimport { Form, FormikProvider, useFormik } from 'formik';\n// @mui\nimport {\n  Box,\n  Grid,\n  Card,\n  Stack,\n  Switch,\n  TextField,\n  FormControlLabel,\n  Typography,\n  FormHelperText,\n} from '@mui/material';\nimport { LoadingButton } from '@mui/lab';\n// hooks\nimport useAuth from '../../../../hooks/useAuth';\nimport useIsMountedRef from '../../../../hooks/useIsMountedRef';\nimport { UploadAvatar } from '../../../../components/upload';\n// utils\nimport { fData } from '../../../../utils/formatNumber';\n// _mock\nimport { countries } from '../../../../_mock';\n\n// ----------------------------------------------------------------------\n\ntype User = {\n  id: string;\n  displayName: string;\n  email: string;\n  password: string;\n  photoURL: File | any;\n  phoneNumber: string | null;\n  country: string | null;\n  address: string | null;\n  state: string | null;\n  city: string | null;\n  zipCode: string | null;\n  about: string | null;\n  role: string;\n  isPublic: boolean;\n};\n\ninterface InitialState extends Omit<User, 'password' | 'id' | 'role'> {\n  afterSubmit?: string;\n}\n\nexport default function AccountGeneral() {\n  const isMountedRef = useIsMountedRef();\n  const { enqueueSnackbar } = useSnackbar();\n  const { user, updateProfile } = useAuth();\n\n  const UpdateUserSchema = Yup.object().shape({\n    displayName: Yup.string().required('Name is required'),\n  });\n\n  const formik = useFormik<InitialState>({\n    enableReinitialize: true,\n    initialValues: {\n      displayName: user?.displayName || '',\n      email: user?.email || '',\n      photoURL: user?.photoURL || '',\n      phoneNumber: user?.phoneNumber || '',\n      country: user?.country || '',\n      address: user?.address || '',\n      state: user?.state || '',\n      city: user?.city || '',\n      zipCode: user?.zipCode || '',\n      about: user?.about || '',\n      isPublic: user?.isPublic || '',\n    },\n\n    validationSchema: UpdateUserSchema,\n    onSubmit: async (values, { setErrors, setSubmitting }) => {\n      try {\n        updateProfile?.();\n        enqueueSnackbar('Update success', { variant: 'success' });\n        if (isMountedRef.current) {\n          setSubmitting(false);\n        }\n      } catch (error) {\n        if (isMountedRef.current) {\n          setSubmitting(false);\n          setErrors({ afterSubmit: error.message });\n        }\n      }\n    },\n  });\n\n  const { values, errors, touched, isSubmitting, handleSubmit, getFieldProps, setFieldValue } =\n    formik;\n\n  const handleDrop = useCallback(\n    (acceptedFiles) => {\n      const file = acceptedFiles[0];\n      if (file) {\n        setFieldValue('photoURL', {\n          ...file,\n          preview: URL.createObjectURL(file),\n        });\n      }\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <FormikProvider value={formik}>\n      <Form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={4}>\n            <Card sx={{ py: 10, px: 3, textAlign: 'center' }}>\n              <UploadAvatar\n                accept=\"image/*\"\n                file={values.photoURL}\n                maxSize={3145728}\n                onDrop={handleDrop}\n                error={Boolean(touched.photoURL && errors.photoURL)}\n                caption={\n                  <Typography\n                    variant=\"caption\"\n                    sx={{\n                      mt: 2,\n                      mx: 'auto',\n                      display: 'block',\n                      textAlign: 'center',\n                      color: 'text.secondary',\n                    }}\n                  >\n                    Allowed *.jpeg, *.jpg, *.png, *.gif\n                    <br /> max size of {fData(3145728)}\n                  </Typography>\n                }\n              />\n\n              <FormHelperText error sx={{ px: 2, textAlign: 'center' }}>\n                {touched.photoURL && errors.photoURL}\n              </FormHelperText>\n\n              <FormControlLabel\n                control={<Switch {...getFieldProps('isPublic')} color=\"primary\" />}\n                labelPlacement=\"start\"\n                label=\"Public Profile\"\n                sx={{ mt: 5 }}\n              />\n            </Card>\n          </Grid>\n\n          <Grid item xs={12} md={8}>\n            <Card sx={{ p: 3 }}>\n              <Stack spacing={{ xs: 2, md: 3 }}>\n                <Stack direction={{ xs: 'column', md: 'row' }} spacing={2}>\n                  <TextField fullWidth label=\"Name\" {...getFieldProps('displayName')} />\n                  <TextField fullWidth disabled label=\"Email Address\" {...getFieldProps('email')} />\n                </Stack>\n\n                <Stack direction={{ xs: 'column', md: 'row' }} spacing={2}>\n                  <TextField fullWidth label=\"Phone Number\" {...getFieldProps('phoneNumber')} />\n                  <TextField fullWidth label=\"Address\" {...getFieldProps('address')} />\n                </Stack>\n\n                <Stack direction={{ xs: 'column', md: 'row' }} spacing={2}>\n                  <TextField\n                    select\n                    fullWidth\n                    label=\"Country\"\n                    placeholder=\"Country\"\n                    {...getFieldProps('country')}\n                    SelectProps={{ native: true }}\n                    error={Boolean(touched.country && errors.country)}\n                    helperText={touched.country && errors.country}\n                  >\n                    <option value=\"\" />\n                    {countries.map((option) => (\n                      <option key={option.code} value={option.label}>\n                        {option.label}\n                      </option>\n                    ))}\n                  </TextField>\n                  <TextField fullWidth label=\"State/Region\" {...getFieldProps('state')} />\n                </Stack>\n\n                <Stack direction={{ xs: 'column', md: 'row' }} spacing={2}>\n                  <TextField fullWidth label=\"City\" {...getFieldProps('city')} />\n                  <TextField fullWidth label=\"Zip/Code\" {...getFieldProps('zipCode')} />\n                </Stack>\n\n                <TextField\n                  {...getFieldProps('about')}\n                  fullWidth\n                  multiline\n                  minRows={4}\n                  maxRows={4}\n                  label=\"About\"\n                />\n              </Stack>\n\n              <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end' }}>\n                <LoadingButton type=\"submit\" variant=\"contained\" loading={isSubmitting}>\n                  Save Changes\n                </LoadingButton>\n              </Box>\n            </Card>\n          </Grid>\n        </Grid>\n      </Form>\n    </FormikProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}