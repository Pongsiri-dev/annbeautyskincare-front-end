{"ast":null,"code":"var _jsxFileName = \"/Users/pongsiri.an/Documents/GitHub/Valenta-front-end/src/sections/@dashboard/user/profile/ProfilePostCard.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useRef } from 'react';\nimport { Link as RouterLink } from 'react-router-dom'; // @mui\n\nimport { Box, Link, Card, Stack, Paper, Avatar, Checkbox, TextField, Typography, CardHeader, IconButton, AvatarGroup, InputAdornment, FormControlLabel } from '@mui/material'; // @types\n\n// hooks\nimport useAuth from '../../../../hooks/useAuth'; // utils\n\nimport { fDate } from '../../../../utils/formatTime';\nimport { fShortenNumber } from '../../../../utils/formatNumber'; // components\n\nimport Image from '../../../../components/Image';\nimport Iconify from '../../../../components/Iconify';\nimport MyAvatar from '../../../../components/MyAvatar';\nimport EmojiPicker from '../../../../components/EmojiPicker'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProfilePostCard(_ref) {\n  _s();\n\n  let {\n    post\n  } = _ref;\n  const {\n    user\n  } = useAuth();\n  const commentInputRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const [isLiked, setLiked] = useState(post.isLiked);\n  const [likes, setLikes] = useState(post.personLikes.length);\n  const [message, setMessage] = useState('');\n  const hasComments = post.comments.length > 0;\n\n  const handleLike = () => {\n    setLiked(true);\n    setLikes(prevLikes => prevLikes + 1);\n  };\n\n  const handleUnlike = () => {\n    setLiked(false);\n    setLikes(prevLikes => prevLikes - 1);\n  };\n\n  const handleChangeMessage = value => {\n    setMessage(value);\n  };\n\n  const handleClickAttach = () => {\n    var _fileInputRef$current;\n\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n\n  const handleClickComment = () => {\n    var _commentInputRef$curr;\n\n    (_commentInputRef$curr = commentInputRef.current) === null || _commentInputRef$curr === void 0 ? void 0 : _commentInputRef$curr.focus();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      disableTypography: true,\n      avatar: /*#__PURE__*/_jsxDEV(MyAvatar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this),\n      title: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"#\",\n        variant: \"subtitle2\",\n        color: \"text.primary\",\n        component: RouterLink,\n        children: user === null || user === void 0 ? void 0 : user.displayName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this),\n      subheader: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        sx: {\n          display: 'block',\n          color: 'text.secondary'\n        },\n        children: fDate(post.createdAt)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this),\n      action: /*#__PURE__*/_jsxDEV(IconButton, {\n        children: /*#__PURE__*/_jsxDEV(Iconify, {\n          icon: 'eva:more-vertical-fill',\n          width: 20,\n          height: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 3,\n      sx: {\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: post.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Image, {\n        alt: \"post media\",\n        src: post.media,\n        ratio: \"16/9\",\n        sx: {\n          borderRadius: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n          control: /*#__PURE__*/_jsxDEV(Checkbox, {\n            size: \"small\",\n            color: \"error\",\n            checked: isLiked,\n            icon: /*#__PURE__*/_jsxDEV(Iconify, {\n              icon: 'eva:heart-fill'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 23\n            }, this),\n            checkedIcon: /*#__PURE__*/_jsxDEV(Iconify, {\n              icon: 'eva:heart-fill'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 30\n            }, this),\n            onChange: isLiked ? handleUnlike : handleLike\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this),\n          label: fShortenNumber(likes),\n          sx: {\n            minWidth: 72,\n            mr: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AvatarGroup, {\n          max: 4,\n          sx: {\n            '& .MuiAvatar-root': {\n              width: 32,\n              height: 32\n            }\n          },\n          children: post.personLikes.map(person => /*#__PURE__*/_jsxDEV(Avatar, {\n            alt: person.name,\n            src: person.avatarUrl\n          }, person.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flexGrow: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleClickComment,\n          children: /*#__PURE__*/_jsxDEV(Iconify, {\n            icon: 'eva:message-square-fill',\n            width: 20,\n            height: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          children: /*#__PURE__*/_jsxDEV(Iconify, {\n            icon: 'eva:share-fill',\n            width: 20,\n            height: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), hasComments && /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 1.5,\n        children: post.comments.map(comment => /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            alt: comment.author.name,\n            src: comment.author.avatarUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 1.5,\n              flexGrow: 1,\n              bgcolor: 'background.neutral'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Stack, {\n              direction: {\n                xs: 'column',\n                sm: 'row'\n              },\n              alignItems: {\n                sm: 'center'\n              },\n              justifyContent: \"space-between\",\n              sx: {\n                mb: 0.5\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                children: comment.author.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  color: 'text.disabled'\n                },\n                children: fDate(comment.createdAt)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                color: 'text.secondary'\n              },\n              children: comment.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this)]\n        }, comment.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(MyAvatar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          size: \"small\",\n          value: message,\n          inputRef: commentInputRef,\n          placeholder: \"Write a comment\\u2026\",\n          onChange: event => handleChangeMessage(event.target.value),\n          InputProps: {\n            endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"end\",\n              children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                onClick: handleClickAttach,\n                children: /*#__PURE__*/_jsxDEV(Iconify, {\n                  icon: 'ic:round-add-photo-alternate',\n                  width: 24,\n                  height: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(EmojiPicker, {\n                alignRight: true,\n                value: message,\n                setValue: setMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this)\n          },\n          sx: {\n            ml: 2,\n            mr: 1,\n            '& fieldset': {\n              borderWidth: `1px !important`,\n              borderColor: theme => `${theme.palette.grey[50032]} !important`\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          children: /*#__PURE__*/_jsxDEV(Iconify, {\n            icon: 'ic:round-send',\n            width: 24,\n            height: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: fileInputRef,\n          style: {\n            display: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfilePostCard, \"dJlqLVvMeV17HElGnHXuFt3ODrU=\", false, function () {\n  return [useAuth];\n});\n\n_c = ProfilePostCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilePostCard\");","map":{"version":3,"sources":["/Users/pongsiri.an/Documents/GitHub/Valenta-front-end/src/sections/@dashboard/user/profile/ProfilePostCard.tsx"],"names":["useState","useRef","Link","RouterLink","Box","Card","Stack","Paper","Avatar","Checkbox","TextField","Typography","CardHeader","IconButton","AvatarGroup","InputAdornment","FormControlLabel","useAuth","fDate","fShortenNumber","Image","Iconify","MyAvatar","EmojiPicker","ProfilePostCard","post","user","commentInputRef","fileInputRef","isLiked","setLiked","likes","setLikes","personLikes","length","message","setMessage","hasComments","comments","handleLike","prevLikes","handleUnlike","handleChangeMessage","value","handleClickAttach","current","click","handleClickComment","focus","displayName","display","color","createdAt","p","media","borderRadius","minWidth","mr","width","height","map","person","name","avatarUrl","flexGrow","comment","author","bgcolor","xs","sm","mb","id","event","target","endAdornment","ml","borderWidth","borderColor","theme","palette","grey"],"mappings":"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","sourcesContent":["import { useState, useRef } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\n// @mui\nimport {\n  Box,\n  Link,\n  Card,\n  Stack,\n  Paper,\n  Avatar,\n  Checkbox,\n  TextField,\n  Typography,\n  CardHeader,\n  IconButton,\n  AvatarGroup,\n  InputAdornment,\n  FormControlLabel,\n} from '@mui/material';\n// @types\nimport { UserPost } from '../../../../@types/user';\n// hooks\nimport useAuth from '../../../../hooks/useAuth';\n// utils\nimport { fDate } from '../../../../utils/formatTime';\nimport { fShortenNumber } from '../../../../utils/formatNumber';\n// components\nimport Image from '../../../../components/Image';\nimport Iconify from '../../../../components/Iconify';\nimport MyAvatar from '../../../../components/MyAvatar';\nimport EmojiPicker from '../../../../components/EmojiPicker';\n\n// ----------------------------------------------------------------------\n\ninterface Props {\n  post: UserPost;\n}\n\nexport default function ProfilePostCard({ post }: Props) {\n  const { user } = useAuth();\n  const commentInputRef = useRef<HTMLInputElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [isLiked, setLiked] = useState(post.isLiked);\n  const [likes, setLikes] = useState(post.personLikes.length);\n  const [message, setMessage] = useState('');\n  const hasComments = post.comments.length > 0;\n\n  const handleLike = () => {\n    setLiked(true);\n    setLikes((prevLikes) => prevLikes + 1);\n  };\n\n  const handleUnlike = () => {\n    setLiked(false);\n    setLikes((prevLikes) => prevLikes - 1);\n  };\n\n  const handleChangeMessage = (value: string) => {\n    setMessage(value);\n  };\n\n  const handleClickAttach = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleClickComment = () => {\n    commentInputRef.current?.focus();\n  };\n\n  return (\n    <Card>\n      <CardHeader\n        disableTypography\n        avatar={<MyAvatar />}\n        title={\n          <Link to=\"#\" variant=\"subtitle2\" color=\"text.primary\" component={RouterLink}>\n            {user?.displayName}\n          </Link>\n        }\n        subheader={\n          <Typography variant=\"caption\" sx={{ display: 'block', color: 'text.secondary' }}>\n            {fDate(post.createdAt)}\n          </Typography>\n        }\n        action={\n          <IconButton>\n            <Iconify icon={'eva:more-vertical-fill'} width={20} height={20} />\n          </IconButton>\n        }\n      />\n\n      <Stack spacing={3} sx={{ p: 3 }}>\n        <Typography variant=\"body1\">{post.message}</Typography>\n\n        <Image alt=\"post media\" src={post.media} ratio=\"16/9\" sx={{ borderRadius: 1 }} />\n\n        <Stack direction=\"row\" alignItems=\"center\">\n          <FormControlLabel\n            control={\n              <Checkbox\n                size=\"small\"\n                color=\"error\"\n                checked={isLiked}\n                icon={<Iconify icon={'eva:heart-fill'} />}\n                checkedIcon={<Iconify icon={'eva:heart-fill'} />}\n                onChange={isLiked ? handleUnlike : handleLike}\n              />\n            }\n            label={fShortenNumber(likes)}\n            sx={{ minWidth: 72, mr: 0 }}\n          />\n          <AvatarGroup max={4} sx={{ '& .MuiAvatar-root': { width: 32, height: 32 } }}>\n            {post.personLikes.map((person) => (\n              <Avatar key={person.name} alt={person.name} src={person.avatarUrl} />\n            ))}\n          </AvatarGroup>\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton onClick={handleClickComment}>\n            <Iconify icon={'eva:message-square-fill'} width={20} height={20} />\n          </IconButton>\n          <IconButton>\n            <Iconify icon={'eva:share-fill'} width={20} height={20} />\n          </IconButton>\n        </Stack>\n\n        {hasComments && (\n          <Stack spacing={1.5}>\n            {post.comments.map((comment) => (\n              <Stack key={comment.id} direction=\"row\" spacing={2}>\n                <Avatar alt={comment.author.name} src={comment.author.avatarUrl} />\n                <Paper sx={{ p: 1.5, flexGrow: 1, bgcolor: 'background.neutral' }}>\n                  <Stack\n                    direction={{ xs: 'column', sm: 'row' }}\n                    alignItems={{ sm: 'center' }}\n                    justifyContent=\"space-between\"\n                    sx={{ mb: 0.5 }}\n                  >\n                    <Typography variant=\"subtitle2\">{comment.author.name}</Typography>\n                    <Typography variant=\"caption\" sx={{ color: 'text.disabled' }}>\n                      {fDate(comment.createdAt)}\n                    </Typography>\n                  </Stack>\n                  <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\n                    {comment.message}\n                  </Typography>\n                </Paper>\n              </Stack>\n            ))}\n          </Stack>\n        )}\n\n        <Stack direction=\"row\" alignItems=\"center\">\n          <MyAvatar />\n          <TextField\n            fullWidth\n            size=\"small\"\n            value={message}\n            inputRef={commentInputRef}\n            placeholder=\"Write a comment…\"\n            onChange={(event) => handleChangeMessage(event.target.value)}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton size=\"small\" onClick={handleClickAttach}>\n                    <Iconify icon={'ic:round-add-photo-alternate'} width={24} height={24} />\n                  </IconButton>\n                  <EmojiPicker alignRight value={message} setValue={setMessage} />\n                </InputAdornment>\n              ),\n            }}\n            sx={{\n              ml: 2,\n              mr: 1,\n              '& fieldset': {\n                borderWidth: `1px !important`,\n                borderColor: (theme) => `${theme.palette.grey[500_32]} !important`,\n              },\n            }}\n          />\n          <IconButton>\n            <Iconify icon={'ic:round-send'} width={24} height={24} />\n          </IconButton>\n          <input type=\"file\" ref={fileInputRef} style={{ display: 'none' }} />\n        </Stack>\n      </Stack>\n    </Card>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}