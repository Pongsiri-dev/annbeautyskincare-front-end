{"ast":null,"code":"var _jsxFileName = \"/Users/pongsiri.an/Downloads/Theme/Minimal_TypeScript_v2.7.0/full_version_TS/src/sections/@dashboard/e-commerce/shop/ShopProductSearch.tsx\";\nimport { useState } from 'react';\nimport { paramCase } from 'change-case';\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\nimport { Link as RouterLink } from 'react-router-dom'; // @mui\n\nimport { styled } from '@mui/material/styles';\nimport { Link, TextField, Typography, Autocomplete, InputAdornment } from '@mui/material'; // utils\n\nimport axios from '../../../../utils/axios'; // routes\n\nimport { PATH_DASHBOARD } from '../../../../routes/paths'; // @types\n\n// components\nimport Iconify from '../../../../components/Iconify';\nimport SearchNotFound from '../../../../components/SearchNotFound'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RootStyle = styled('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    '& .MuiAutocomplete-root': {\n      width: 200,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.easeInOut,\n        duration: theme.transitions.duration.shorter\n      }),\n      '&.Mui-focused': {\n        width: 240,\n        '& .MuiAutocomplete-inputRoot': {\n          boxShadow: theme.customShadows.z12\n        }\n      }\n    },\n    '& .MuiAutocomplete-inputRoot': {\n      '& fieldset': {\n        borderWidth: `1px !important`,\n        borderColor: `${theme.palette.grey[50032]} !important`\n      }\n    },\n    '& .MuiAutocomplete-option': {\n      '&:not(:last-of-type)': {\n        borderBottom: `solid 1px ${theme.palette.divider}`\n      }\n    }\n  };\n}); // ----------------------------------------------------------------------\n\nexport default function ShopProductSearch() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  const linkTo = name => `${PATH_DASHBOARD.eCommerce.root}/product/${paramCase(name)}`;\n\n  const handleChangeSearch = async value => {\n    try {\n      setSearchQuery(value);\n\n      if (value) {\n        const response = await axios.get('/api/products/search', {\n          params: {\n            query: value\n          }\n        });\n        setSearchResults(response.data.results);\n      } else {\n        setSearchResults([]);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(RootStyle, {\n    sx: { ...(!searchQuery && {\n        '& .MuiAutocomplete-noOptions': {\n          display: 'none'\n        }\n      })\n    },\n    children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n      size: \"small\",\n      disablePortal: true,\n      popupIcon: null,\n      options: searchResults,\n      onInputChange: (event, value) => handleChangeSearch(value),\n      getOptionLabel: product => product.name,\n      noOptionsText: /*#__PURE__*/_jsxDEV(SearchNotFound, {\n        searchQuery: searchQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 24\n      }, this),\n      renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n        placeholder: \"Search product...\",\n        InputProps: { ...params.InputProps,\n          startAdornment: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"start\",\n              children: /*#__PURE__*/_jsxDEV(Iconify, {\n                icon: 'eva:search-fill',\n                sx: {\n                  ml: 1,\n                  width: 20,\n                  height: 20,\n                  color: 'text.disabled'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 19\n            }, this), params.InputProps.startAdornment]\n          }, void 0, true)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this),\n      renderOption: (props, post, _ref2) => {\n        let {\n          inputValue\n        } = _ref2;\n        const {\n          name\n        } = post;\n        const matches = match(name, inputValue);\n        const parts = parse(name, matches);\n        return /*#__PURE__*/_jsxDEV(\"li\", { ...props,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: linkTo(name),\n            component: RouterLink,\n            underline: \"none\",\n            children: parts.map((part, index) => /*#__PURE__*/_jsxDEV(Typography, {\n              component: \"span\",\n              variant: \"subtitle2\",\n              color: part.highlight ? 'primary' : 'textPrimary',\n              children: part.text\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/pongsiri.an/Downloads/Theme/Minimal_TypeScript_v2.7.0/full_version_TS/src/sections/@dashboard/e-commerce/shop/ShopProductSearch.tsx"],"names":["useState","paramCase","parse","match","Link","RouterLink","styled","TextField","Typography","Autocomplete","InputAdornment","axios","PATH_DASHBOARD","Iconify","SearchNotFound","RootStyle","theme","width","transition","transitions","create","easing","easeInOut","duration","shorter","boxShadow","customShadows","z12","borderWidth","borderColor","palette","grey","borderBottom","divider","ShopProductSearch","searchQuery","setSearchQuery","searchResults","setSearchResults","linkTo","name","eCommerce","root","handleChangeSearch","value","response","get","params","query","data","results","error","console","display","event","product","InputProps","startAdornment","ml","height","color","props","post","inputValue","matches","parts","map","part","index","highlight","text"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport { paramCase } from 'change-case';\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\nimport { Link as RouterLink } from 'react-router-dom';\n// @mui\nimport { styled } from '@mui/material/styles';\nimport { Link, TextField, Typography, Autocomplete, InputAdornment } from '@mui/material';\n// utils\nimport axios from '../../../../utils/axios';\n// routes\nimport { PATH_DASHBOARD } from '../../../../routes/paths';\n// @types\nimport { Product } from '../../../../@types/product';\n// components\nimport Iconify from '../../../../components/Iconify';\nimport SearchNotFound from '../../../../components/SearchNotFound';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  '& .MuiAutocomplete-root': {\n    width: 200,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.easeInOut,\n      duration: theme.transitions.duration.shorter,\n    }),\n    '&.Mui-focused': {\n      width: 240,\n      '& .MuiAutocomplete-inputRoot': {\n        boxShadow: theme.customShadows.z12,\n      },\n    },\n  },\n  '& .MuiAutocomplete-inputRoot': {\n    '& fieldset': {\n      borderWidth: `1px !important`,\n      borderColor: `${theme.palette.grey[500_32]} !important`,\n    },\n  },\n  '& .MuiAutocomplete-option': {\n    '&:not(:last-of-type)': {\n      borderBottom: `solid 1px ${theme.palette.divider}`,\n    },\n  },\n}));\n\n// ----------------------------------------------------------------------\n\nexport default function ShopProductSearch() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  const linkTo = (name: string) => `${PATH_DASHBOARD.eCommerce.root}/product/${paramCase(name)}`;\n\n  const handleChangeSearch = async (value: string) => {\n    try {\n      setSearchQuery(value);\n      if (value) {\n        const response = await axios.get('/api/products/search', {\n          params: { query: value },\n        });\n        setSearchResults(response.data.results);\n      } else {\n        setSearchResults([]);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <RootStyle\n      sx={{\n        ...(!searchQuery && {\n          '& .MuiAutocomplete-noOptions': {\n            display: 'none',\n          },\n        }),\n      }}\n    >\n      <Autocomplete\n        size=\"small\"\n        disablePortal\n        popupIcon={null}\n        options={searchResults}\n        onInputChange={(event, value) => handleChangeSearch(value)}\n        getOptionLabel={(product: Product) => product.name}\n        noOptionsText={<SearchNotFound searchQuery={searchQuery} />}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            placeholder=\"Search product...\"\n            InputProps={{\n              ...params.InputProps,\n              startAdornment: (\n                <>\n                  <InputAdornment position=\"start\">\n                    <Iconify\n                      icon={'eva:search-fill'}\n                      sx={{ ml: 1, width: 20, height: 20, color: 'text.disabled' }}\n                    />\n                  </InputAdornment>\n                  {params.InputProps.startAdornment}\n                </>\n              ),\n            }}\n          />\n        )}\n        renderOption={(props, post, { inputValue }) => {\n          const { name } = post;\n          const matches = match(name, inputValue);\n          const parts = parse(name, matches);\n          return (\n            <li {...props}>\n              <Link to={linkTo(name)} component={RouterLink} underline=\"none\">\n                {parts.map((part, index) => (\n                  <Typography\n                    key={index}\n                    component=\"span\"\n                    variant=\"subtitle2\"\n                    color={part.highlight ? 'primary' : 'textPrimary'}\n                  >\n                    {part.text}\n                  </Typography>\n                ))}\n              </Link>\n            </li>\n          );\n        }}\n      />\n    </RootStyle>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}