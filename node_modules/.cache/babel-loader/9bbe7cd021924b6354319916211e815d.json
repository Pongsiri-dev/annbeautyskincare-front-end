{"ast":null,"code":"var _jsxFileName = \"/Users/pongsiri.an/Documents/GitHub/Valenta-front-end/src/sections/map/MapHighlightByFilter.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useCallback, useMemo } from 'react';\nimport MapGL, { Layer, Source } from 'react-map-gl';\n// @mui\nimport { useTheme } from '@mui/material/styles';\nimport { Typography } from '@mui/material'; // components\n\nimport { MapControlPopup, MapControlScale, MapControlGeolocate, MapControlNavigation, MapControlFullscreen } from '../../components/map'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MapHighlightByFilter(_ref) {\n  _s();\n\n  let { ...other\n  } = _ref;\n  const theme = useTheme();\n  const [hoverInfo, setHoverInfo] = useState(null);\n  const [viewport, setViewport] = useState({\n    latitude: 38.88,\n    longitude: -98,\n    zoom: 3,\n    minZoom: 2,\n    bearing: 0,\n    pitch: 0\n  });\n  const selectedCounty = hoverInfo && hoverInfo.countyName || '';\n  const filter = useMemo(() => ['in', 'COUNTY', selectedCounty], [selectedCounty]);\n  const countiesLayer = {\n    id: 'counties',\n    type: 'fill',\n    source: 'counties',\n    'source-layer': 'original',\n    paint: {\n      'fill-outline-color': theme.palette.grey[900],\n      'fill-color': theme.palette.grey[900],\n      'fill-opacity': 0.12\n    }\n  };\n  const highlightLayer = {\n    id: 'counties-highlighted',\n    type: 'fill',\n    source: 'counties',\n    'source-layer': 'original',\n    paint: {\n      'fill-outline-color': theme.palette.error.main,\n      'fill-color': theme.palette.error.main,\n      'fill-opacity': 0.48\n    }\n  };\n  const onHover = useCallback(event => {\n    const county = event.features && event.features[0];\n    setHoverInfo({\n      longitude: event.lngLat[0],\n      latitude: event.lngLat[1],\n      countyName: county && county.properties.COUNTY\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MapGL, { ...viewport,\n      onViewportChange: setViewport,\n      onHover: onHover,\n      interactiveLayerIds: ['counties'],\n      ...other,\n      children: [/*#__PURE__*/_jsxDEV(MapControlScale, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapControlNavigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapControlFullscreen, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapControlGeolocate, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Source, {\n        type: \"vector\",\n        url: \"mapbox://mapbox.82pkq93d\",\n        children: [/*#__PURE__*/_jsxDEV(Layer, {\n          beforeId: \"waterway-label\",\n          ...countiesLayer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Layer, {\n          beforeId: \"waterway-label\",\n          ...highlightLayer,\n          filter: filter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), selectedCounty && hoverInfo && /*#__PURE__*/_jsxDEV(MapControlPopup, {\n        longitude: hoverInfo.longitude,\n        latitude: hoverInfo.latitude,\n        closeButton: false,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          sx: {\n            color: 'common.white'\n          },\n          children: selectedCounty\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(MapHighlightByFilter, \"c/jZ8xAhWQW7dMQhqRQb1sEMVks=\", false, function () {\n  return [useTheme];\n});\n\n_c = MapHighlightByFilter;\n\nvar _c;\n\n$RefreshReg$(_c, \"MapHighlightByFilter\");","map":{"version":3,"sources":["/Users/pongsiri.an/Documents/GitHub/Valenta-front-end/src/sections/map/MapHighlightByFilter.tsx"],"names":["useState","useCallback","useMemo","MapGL","Layer","Source","useTheme","Typography","MapControlPopup","MapControlScale","MapControlGeolocate","MapControlNavigation","MapControlFullscreen","MapHighlightByFilter","other","theme","hoverInfo","setHoverInfo","viewport","setViewport","latitude","longitude","zoom","minZoom","bearing","pitch","selectedCounty","countyName","filter","countiesLayer","id","type","source","paint","palette","grey","highlightLayer","error","main","onHover","event","county","features","lngLat","properties","COUNTY","color"],"mappings":"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","sourcesContent":["import { useState, useCallback, useMemo } from 'react';\nimport MapGL, { Layer, LayerProps, MapEvent, Source } from 'react-map-gl';\nimport { InteractiveMapProps } from 'react-map-gl/src/components/interactive-map';\n// @mui\nimport { useTheme } from '@mui/material/styles';\nimport { Typography } from '@mui/material';\n// components\nimport {\n  MapControlPopup,\n  MapControlScale,\n  MapControlGeolocate,\n  MapControlNavigation,\n  MapControlFullscreen\n} from '../../components/map';\n\n// ----------------------------------------------------------------------\n\nexport default function MapHighlightByFilter({ ...other }: InteractiveMapProps) {\n  const theme = useTheme();\n  const [hoverInfo, setHoverInfo] = useState<{\n    countyName: string;\n    longitude: number;\n    latitude: number;\n  } | null>(null);\n  const [viewport, setViewport] = useState({\n    latitude: 38.88,\n    longitude: -98,\n    zoom: 3,\n    minZoom: 2,\n    bearing: 0,\n    pitch: 0\n  });\n\n  const selectedCounty = (hoverInfo && hoverInfo.countyName) || '';\n  const filter = useMemo(() => ['in', 'COUNTY', selectedCounty], [selectedCounty]);\n\n  const countiesLayer: LayerProps = {\n    id: 'counties',\n    type: 'fill',\n    source: 'counties',\n    'source-layer': 'original',\n    paint: {\n      'fill-outline-color': theme.palette.grey[900],\n      'fill-color': theme.palette.grey[900],\n      'fill-opacity': 0.12\n    }\n  };\n\n  const highlightLayer: LayerProps = {\n    id: 'counties-highlighted',\n    type: 'fill',\n    source: 'counties',\n    'source-layer': 'original',\n    paint: {\n      'fill-outline-color': theme.palette.error.main,\n      'fill-color': theme.palette.error.main,\n      'fill-opacity': 0.48\n    }\n  };\n\n  const onHover = useCallback((event: MapEvent) => {\n    const county = event.features && event.features[0];\n    setHoverInfo({\n      longitude: event.lngLat[0],\n      latitude: event.lngLat[1],\n      countyName: county && county.properties.COUNTY\n    });\n  }, []);\n\n  return (\n    <>\n      <MapGL\n        {...viewport}\n        onViewportChange={setViewport}\n        onHover={onHover}\n        interactiveLayerIds={['counties']}\n        {...other}\n      >\n        <MapControlScale />\n        <MapControlNavigation />\n        <MapControlFullscreen />\n        <MapControlGeolocate />\n\n        <Source type=\"vector\" url=\"mapbox://mapbox.82pkq93d\">\n          <Layer beforeId=\"waterway-label\" {...countiesLayer} />\n          <Layer beforeId=\"waterway-label\" {...highlightLayer} filter={filter} />\n        </Source>\n\n        {selectedCounty && hoverInfo && (\n          <MapControlPopup\n            longitude={hoverInfo.longitude}\n            latitude={hoverInfo.latitude}\n            closeButton={false}\n          >\n            <Typography variant=\"body2\" sx={{ color: 'common.white' }}>\n              {selectedCounty}\n            </Typography>\n          </MapControlPopup>\n        )}\n      </MapGL>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}