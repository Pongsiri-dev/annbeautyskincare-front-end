{"ast":null,"code":"import { useState, useEffect } from 'react'; // ----------------------------------------------------------------------\n\nexport default function useCountdown(date) {\n  const [countdown, setCountdown] = useState({\n    days: '00',\n    hours: '00',\n    minutes: '00',\n    seconds: '00'\n  });\n  useEffect(() => {\n    const interval = setInterval(() => setNewTime(), 1000);\n    return () => clearInterval(interval); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const setNewTime = () => {\n    const startTime = date;\n    const endTime = new Date();\n    const distanceToNow = startTime.valueOf() - endTime.valueOf();\n    const getDays = Math.floor(distanceToNow / (1000 * 60 * 60 * 24));\n    const getHours = `0${Math.floor(distanceToNow % (1000 * 60 * 60 * 24) / (1000 * 60 * 60))}`.slice(-2);\n    const getMinutes = `0${Math.floor(distanceToNow % (1000 * 60 * 60) / (1000 * 60))}`.slice(-2);\n    const getSeconds = `0${Math.floor(distanceToNow % (1000 * 60) / 1000)}`.slice(-2);\n    setCountdown({\n      days: getDays.toString() || '000',\n      hours: getHours || '000',\n      minutes: getMinutes || '000',\n      seconds: getSeconds || '000'\n    });\n  };\n\n  return countdown;\n} // Usage\n// const countdown = useCountdown(new Date('07/07/2022 21:30'));","map":{"version":3,"sources":["/Users/pongsiri.an/Downloads/Theme/Minimal_TypeScript_v2.7.0/full_version_TS/src/hooks/useCountdown.ts"],"names":["useState","useEffect","useCountdown","date","countdown","setCountdown","days","hours","minutes","seconds","interval","setInterval","setNewTime","clearInterval","startTime","endTime","Date","distanceToNow","valueOf","getDays","Math","floor","getHours","slice","getMinutes","getSeconds","toString"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC,C,CAEA;;AAEA,eAAe,SAASC,YAAT,CAAsBC,IAAtB,EAAkC;AAC/C,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC;AACzCM,IAAAA,IAAI,EAAE,IADmC;AAEzCC,IAAAA,KAAK,EAAE,IAFkC;AAGzCC,IAAAA,OAAO,EAAE,IAHgC;AAIzCC,IAAAA,OAAO,EAAE;AAJgC,GAAD,CAA1C;AAOAR,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMS,QAAQ,GAAGC,WAAW,CAAC,MAAMC,UAAU,EAAjB,EAAqB,IAArB,CAA5B;AACA,WAAO,MAAMC,aAAa,CAACH,QAAD,CAA1B,CAFc,CAGd;AACD,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAME,UAAU,GAAG,MAAM;AACvB,UAAME,SAAS,GAAGX,IAAlB;AACA,UAAMY,OAAO,GAAG,IAAIC,IAAJ,EAAhB;AACA,UAAMC,aAAa,GAAGH,SAAS,CAACI,OAAV,KAAsBH,OAAO,CAACG,OAAR,EAA5C;AAEA,UAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWJ,aAAa,IAAI,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArB,CAAxB,CAAhB;AAEA,UAAMK,QAAQ,GAAI,IAAGF,IAAI,CAACC,KAAL,CAClBJ,aAAa,IAAI,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArB,CAAd,IAA2C,OAAO,EAAP,GAAY,EAAvD,CADmB,CAEnB,EAFe,CAEbM,KAFa,CAEP,CAAC,CAFM,CAAjB;AAIA,UAAMC,UAAU,GAAI,IAAGJ,IAAI,CAACC,KAAL,CAAYJ,aAAa,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAd,IAAsC,OAAO,EAA7C,CAAX,CAA6D,EAAjE,CAAmEM,KAAnE,CAAyE,CAAC,CAA1E,CAAnB;AAEA,UAAME,UAAU,GAAI,IAAGL,IAAI,CAACC,KAAL,CAAYJ,aAAa,IAAI,OAAO,EAAX,CAAd,GAAgC,IAA3C,CAAiD,EAArD,CAAuDM,KAAvD,CAA6D,CAAC,CAA9D,CAAnB;AAEAlB,IAAAA,YAAY,CAAC;AACXC,MAAAA,IAAI,EAAEa,OAAO,CAACO,QAAR,MAAsB,KADjB;AAEXnB,MAAAA,KAAK,EAAEe,QAAQ,IAAI,KAFR;AAGXd,MAAAA,OAAO,EAAEgB,UAAU,IAAI,KAHZ;AAIXf,MAAAA,OAAO,EAAEgB,UAAU,IAAI;AAJZ,KAAD,CAAZ;AAMD,GArBD;;AAuBA,SAAOrB,SAAP;AACD,C,CAED;AACA","sourcesContent":["import { useState, useEffect } from 'react';\n\n// ----------------------------------------------------------------------\n\nexport default function useCountdown(date: Date) {\n  const [countdown, setCountdown] = useState({\n    days: '00',\n    hours: '00',\n    minutes: '00',\n    seconds: '00'\n  });\n\n  useEffect(() => {\n    const interval = setInterval(() => setNewTime(), 1000);\n    return () => clearInterval(interval);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const setNewTime = () => {\n    const startTime = date;\n    const endTime = new Date();\n    const distanceToNow = startTime.valueOf() - endTime.valueOf();\n\n    const getDays = Math.floor(distanceToNow / (1000 * 60 * 60 * 24));\n\n    const getHours = `0${Math.floor(\n      (distanceToNow % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\n    )}`.slice(-2);\n\n    const getMinutes = `0${Math.floor((distanceToNow % (1000 * 60 * 60)) / (1000 * 60))}`.slice(-2);\n\n    const getSeconds = `0${Math.floor((distanceToNow % (1000 * 60)) / 1000)}`.slice(-2);\n\n    setCountdown({\n      days: getDays.toString() || '000',\n      hours: getHours || '000',\n      minutes: getMinutes || '000',\n      seconds: getSeconds || '000'\n    });\n  };\n\n  return countdown;\n}\n\n// Usage\n// const countdown = useCountdown(new Date('07/07/2022 21:30'));\n"]},"metadata":{},"sourceType":"module"}