{"ast":null,"code":"var _jsxFileName = \"/Users/pongsiri.an/Documents/GitHub/Valenta-front-end/src/sections/@dashboard/mail/MailItem.tsx\",\n    _s = $RefreshSig$();\n\nimport { useParams, Link as RouterLink } from 'react-router-dom'; // @mui\n\nimport { styled } from '@mui/material/styles';\nimport { Box, Link, Tooltip, Typography, Checkbox } from '@mui/material'; // redux\n\nimport { useSelector } from '../../../redux/store'; // hooks\n\nimport useResponsive from '../../../hooks/useResponsive'; // utils\n\nimport { fDate } from '../../../utils/formatTime';\nimport createAvatar from '../../../utils/createAvatar'; // routes\n\nimport { PATH_DASHBOARD } from '../../../routes/paths'; // @types\n\n// components\nimport Label from '../../../components/Label';\nimport Avatar from '../../../components/Avatar';\nimport Iconify from '../../../components/Iconify'; //\n\nimport MailItemAction from './MailItemAction'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RootStyle = styled('div')(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    position: 'relative',\n    padding: theme.spacing(0, 2),\n    color: theme.palette.text.secondary,\n    backgroundColor: theme.palette.background.neutral,\n    borderBottom: `1px solid ${theme.palette.divider}`,\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    '&:hover': {\n      zIndex: 999,\n      position: 'relative',\n      boxShadow: theme.customShadows.z24,\n      '& .showActions': {\n        opacity: 1\n      }\n    }\n  };\n});\nconst WrapStyle = styled(Link)(_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return {\n    minWidth: 0,\n    display: 'flex',\n    padding: theme.spacing(2, 0),\n    transition: theme.transitions.create('padding')\n  };\n}); // ----------------------------------------------------------------------\n\nconst linkTo = (params, mailId) => {\n  const {\n    systemLabel,\n    customLabel\n  } = params;\n  const baseUrl = PATH_DASHBOARD.mail.root;\n\n  if (systemLabel) {\n    return `${baseUrl}/${systemLabel}/${mailId}`;\n  }\n\n  if (customLabel) {\n    return `${baseUrl}/label/${customLabel}/${mailId}`;\n  }\n\n  return baseUrl;\n};\n\nexport default function MailItem(_ref3) {\n  _s();\n\n  let {\n    mail,\n    isDense,\n    isSelected,\n    onSelect,\n    onDeselect,\n    ...other\n  } = _ref3;\n  const params = useParams();\n  const {\n    labels\n  } = useSelector(state => state.mail);\n  const isDesktop = useResponsive('up', 'md');\n  const isAttached = mail.files.length > 0;\n\n  const handleChangeCheckbox = checked => checked ? onSelect() : onDeselect();\n\n  return /*#__PURE__*/_jsxDEV(RootStyle, {\n    sx: { ...(!mail.isUnread && {\n        color: 'text.primary',\n        backgroundColor: 'background.paper'\n      }),\n      ...(isSelected && {\n        bgcolor: 'action.selected'\n      })\n    },\n    ...other,\n    children: [isDesktop && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mr: 2,\n        display: 'flex'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n        checked: isSelected,\n        onChange: event => handleChangeCheckbox(event.target.checked)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Starred\",\n        children: /*#__PURE__*/_jsxDEV(Checkbox, {\n          color: \"warning\",\n          defaultChecked: mail.isStarred,\n          icon: /*#__PURE__*/_jsxDEV(Iconify, {\n            icon: 'eva:star-outline'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 21\n          }, this),\n          checkedIcon: /*#__PURE__*/_jsxDEV(Iconify, {\n            icon: 'eva:star-fill'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 28\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Important\",\n        children: /*#__PURE__*/_jsxDEV(Checkbox, {\n          color: \"warning\",\n          defaultChecked: mail.isImportant,\n          checkedIcon: /*#__PURE__*/_jsxDEV(Iconify, {\n            icon: 'ic:round-label-important'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 28\n          }, this),\n          icon: /*#__PURE__*/_jsxDEV(Iconify, {\n            icon: 'ic:round-label-important'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(WrapStyle, {\n      color: \"inherit\",\n      underline: \"none\",\n      component: RouterLink,\n      to: linkTo(params, mail.id),\n      sx: { ...(isDense && {\n          py: 1\n        })\n      },\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        alt: mail.from.name,\n        src: mail.from.avatar || '',\n        color: createAvatar(mail.from.name).color,\n        sx: {\n          width: 32,\n          height: 32\n        },\n        children: createAvatar(mail.from.name).name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          ml: 2,\n          minWidth: 0,\n          alignItems: 'center',\n          display: {\n            md: 'flex'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          noWrap: true,\n          sx: {\n            pr: 2,\n            minWidth: 200,\n            ...(!mail.isUnread && {\n              fontWeight: 'fontWeightBold'\n            })\n          },\n          children: mail.from.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          noWrap: true,\n          variant: \"body2\",\n          sx: {\n            pr: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            component: \"span\",\n            sx: { ...(!mail.isUnread && {\n                fontWeight: 'fontWeightBold'\n              })\n            },\n            children: mail.subject\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), \"\\xA0-\\xA0\", /*#__PURE__*/_jsxDEV(Box, {\n            component: \"span\",\n            sx: { ...(!mail.isUnread && {\n                color: 'text.secondary'\n              })\n            },\n            children: mail.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), isDesktop && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex'\n            },\n            children: mail.labelIds.map(labelId => {\n              const label = labels.find(_label => _label.id === labelId);\n              if (!label) return null;\n              return /*#__PURE__*/_jsxDEV(Label, {\n                sx: {\n                  mx: 0.5,\n                  textTransform: 'capitalize',\n                  bgcolor: label.color,\n                  color: theme => theme.palette.getContrastText(label.color || '')\n                },\n                children: label.name\n              }, label.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this), isAttached && /*#__PURE__*/_jsxDEV(Iconify, {\n            icon: 'eva:link-fill',\n            sx: {\n              mx: 2,\n              width: 20,\n              height: 20,\n              flexShrink: 0\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          sx: {\n            flexShrink: 0,\n            minWidth: 120,\n            textAlign: 'right',\n            ...(!mail.isUnread && {\n              fontWeight: 'fontWeightBold'\n            })\n          },\n          children: fDate(mail.createdAt)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MailItemAction, {\n      className: \"showActions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MailItem, \"sYzffu5yVwLEw98Be3gbbLDrPTo=\", false, function () {\n  return [useParams, useSelector, useResponsive];\n});\n\n_c = MailItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"MailItem\");","map":{"version":3,"sources":["/Users/pongsiri.an/Documents/GitHub/Valenta-front-end/src/sections/@dashboard/mail/MailItem.tsx"],"names":["useParams","Link","RouterLink","styled","Box","Tooltip","Typography","Checkbox","useSelector","useResponsive","fDate","createAvatar","PATH_DASHBOARD","Label","Avatar","Iconify","MailItemAction","RootStyle","theme","position","padding","spacing","color","palette","text","secondary","backgroundColor","background","neutral","borderBottom","divider","breakpoints","up","display","alignItems","zIndex","boxShadow","customShadows","z24","opacity","WrapStyle","minWidth","transition","transitions","create","linkTo","params","mailId","systemLabel","customLabel","baseUrl","mail","root","MailItem","isDense","isSelected","onSelect","onDeselect","other","labels","state","isDesktop","isAttached","files","length","handleChangeCheckbox","checked","isUnread","bgcolor","mr","event","target","isStarred","isImportant","id","py","from","name","avatar","width","height","ml","md","pr","fontWeight","subject","message","labelIds","map","labelId","label","find","_label","mx","textTransform","getContrastText","flexShrink","textAlign","createdAt"],"mappings":"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","sourcesContent":["import { ReactNode } from 'react';\nimport { useParams, Link as RouterLink } from 'react-router-dom';\n// @mui\nimport { styled } from '@mui/material/styles';\nimport { Box, Link, Tooltip, Typography, Checkbox, LinkProps } from '@mui/material';\n// redux\nimport { useSelector } from '../../../redux/store';\n// hooks\nimport useResponsive from '../../../hooks/useResponsive';\n// utils\nimport { fDate } from '../../../utils/formatTime';\nimport createAvatar from '../../../utils/createAvatar';\n// routes\nimport { PATH_DASHBOARD } from '../../../routes/paths';\n// @types\nimport { Mail } from '../../../@types/mail';\n// components\nimport Label from '../../../components/Label';\nimport Avatar from '../../../components/Avatar';\nimport Iconify from '../../../components/Iconify';\n//\nimport MailItemAction from './MailItemAction';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  position: 'relative',\n  padding: theme.spacing(0, 2),\n  color: theme.palette.text.secondary,\n  backgroundColor: theme.palette.background.neutral,\n  borderBottom: `1px solid ${theme.palette.divider}`,\n  [theme.breakpoints.up('md')]: { display: 'flex', alignItems: 'center' },\n  '&:hover': {\n    zIndex: 999,\n    position: 'relative',\n    boxShadow: theme.customShadows.z24,\n    '& .showActions': { opacity: 1 },\n  },\n}));\n\ninterface WrapStyleProps extends LinkProps {\n  component?: ReactNode;\n  to?: string;\n}\n\nconst WrapStyle = styled(Link)<WrapStyleProps>(({ theme }) => ({\n  minWidth: 0,\n  display: 'flex',\n  padding: theme.spacing(2, 0),\n  transition: theme.transitions.create('padding'),\n}));\n\n// ----------------------------------------------------------------------\n\nconst linkTo = (params: { systemLabel?: string; customLabel?: string }, mailId: string) => {\n  const { systemLabel, customLabel } = params;\n  const baseUrl = PATH_DASHBOARD.mail.root;\n\n  if (systemLabel) {\n    return `${baseUrl}/${systemLabel}/${mailId}`;\n  }\n  if (customLabel) {\n    return `${baseUrl}/label/${customLabel}/${mailId}`;\n  }\n  return baseUrl;\n};\n\ntype Props = {\n  mail: Mail;\n  isDense: boolean;\n  isSelected: boolean;\n  onDeselect: VoidFunction;\n  onSelect: VoidFunction;\n};\n\nexport default function MailItem({\n  mail,\n  isDense,\n  isSelected,\n  onSelect,\n  onDeselect,\n  ...other\n}: Props) {\n  const params = useParams();\n  const { labels } = useSelector((state) => state.mail);\n\n  const isDesktop = useResponsive('up', 'md');\n\n  const isAttached = mail.files.length > 0;\n\n  const handleChangeCheckbox = (checked: boolean) => (checked ? onSelect() : onDeselect());\n\n  return (\n    <RootStyle\n      sx={{\n        ...(!mail.isUnread && {\n          color: 'text.primary',\n          backgroundColor: 'background.paper',\n        }),\n        ...(isSelected && { bgcolor: 'action.selected' }),\n      }}\n      {...other}\n    >\n      {isDesktop && (\n        <Box sx={{ mr: 2, display: 'flex' }}>\n          <Checkbox\n            checked={isSelected}\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n              handleChangeCheckbox(event.target.checked)\n            }\n          />\n          <Tooltip title=\"Starred\">\n            <Checkbox\n              color=\"warning\"\n              defaultChecked={mail.isStarred}\n              icon={<Iconify icon={'eva:star-outline'} />}\n              checkedIcon={<Iconify icon={'eva:star-fill'} />}\n            />\n          </Tooltip>\n          <Tooltip title=\"Important\">\n            <Checkbox\n              color=\"warning\"\n              defaultChecked={mail.isImportant}\n              checkedIcon={<Iconify icon={'ic:round-label-important'} />}\n              icon={<Iconify icon={'ic:round-label-important'} />}\n            />\n          </Tooltip>\n        </Box>\n      )}\n\n      <WrapStyle\n        color=\"inherit\"\n        underline=\"none\"\n        component={RouterLink}\n        to={linkTo(params, mail.id)}\n        sx={{ ...(isDense && { py: 1 }) }}\n      >\n        <Avatar\n          alt={mail.from.name}\n          src={mail.from.avatar || ''}\n          color={createAvatar(mail.from.name).color}\n          sx={{ width: 32, height: 32 }}\n        >\n          {createAvatar(mail.from.name).name}\n        </Avatar>\n\n        <Box\n          sx={{\n            ml: 2,\n            minWidth: 0,\n            alignItems: 'center',\n            display: { md: 'flex' },\n          }}\n        >\n          <Typography\n            variant=\"body2\"\n            noWrap\n            sx={{\n              pr: 2,\n              minWidth: 200,\n              ...(!mail.isUnread && { fontWeight: 'fontWeightBold' }),\n            }}\n          >\n            {mail.from.name}\n          </Typography>\n\n          <Typography\n            noWrap\n            variant=\"body2\"\n            sx={{\n              pr: 2,\n            }}\n          >\n            <Box component=\"span\" sx={{ ...(!mail.isUnread && { fontWeight: 'fontWeightBold' }) }}>\n              {mail.subject}\n            </Box>\n            &nbsp;-&nbsp;\n            <Box\n              component=\"span\"\n              sx={{\n                ...(!mail.isUnread && { color: 'text.secondary' }),\n              }}\n            >\n              {mail.message}\n            </Box>\n          </Typography>\n\n          {isDesktop && (\n            <>\n              <Box sx={{ display: 'flex' }}>\n                {mail.labelIds.map((labelId) => {\n                  const label = labels.find((_label) => _label.id === labelId);\n                  if (!label) return null;\n                  return (\n                    <Label\n                      key={label.id}\n                      sx={{\n                        mx: 0.5,\n                        textTransform: 'capitalize',\n                        bgcolor: label.color,\n                        color: (theme) => theme.palette.getContrastText(label.color || ''),\n                      }}\n                    >\n                      {label.name}\n                    </Label>\n                  );\n                })}\n              </Box>\n\n              {isAttached && (\n                <Iconify\n                  icon={'eva:link-fill'}\n                  sx={{\n                    mx: 2,\n                    width: 20,\n                    height: 20,\n                    flexShrink: 0,\n                  }}\n                />\n              )}\n            </>\n          )}\n\n          <Typography\n            variant=\"caption\"\n            sx={{\n              flexShrink: 0,\n              minWidth: 120,\n              textAlign: 'right',\n              ...(!mail.isUnread && { fontWeight: 'fontWeightBold' }),\n            }}\n          >\n            {fDate(mail.createdAt)}\n          </Typography>\n        </Box>\n      </WrapStyle>\n\n      <MailItemAction className=\"showActions\" />\n    </RootStyle>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}